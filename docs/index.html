<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>build-failure-analyser-action validation by Superbasil3</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="JaketheDog.ico">
    <script src="javascripts/scale.fix.js"></script>
    <script src="javascripts/bundle.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("beautify_json").onclick = function () {
          beautifyJson();
        };
        document.getElementById("validate_json").onclick = function () {
          validateRegexesFileFormat(document.getElementById("input_json_string").value)
        };
        document.getElementById("match_logs").onclick = function () {
          try {
            let jsonInput = document.getElementById("input_json_string").value
            let logInput = document.getElementById("input_logs_string").value
            runRegex(parseRegexesContent(jsonInput), logInput)
          } catch (e) {
            document.getElementById('input_logs_string_message').innerHTML = '<p>' + e.message + '</p><p>' + e.stack + '</p>';
            document.getElementById('input_logs_string_message').className = 'error';
          }
        };
      })
    </script>
  </head>
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="mdl-layout-title">build-failure-analyser-action</span>
      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>
      <!-- Navigation. We hide it in small screens. -->
      <nav class="mdl-navigation mdl-layout--large-screen-only">
        <a class="mdl-navigation__link" href="https://regex101.com/">regex101</a>
      </nav>
    </div>
  </header>
  <body>
    <div class="wrapper" >
        <div class="container text-center" style="text-align: center">
          <h1>Validating regexes json files</h1>
          <p>This is made to validate config for using GitHub Action : build-failure-analyser-action</p>
          <ul class="mdl-list">
            <li class="mdl-list__item mdl-list__item--three-line">
              <span class="mdl-list__item-primary-content">
                <i class="material-icons">info</i>
                <span class="mdl-list__item-text-body">
                  TEST
                </span>
              </span>
            </li>
          </ul>
          <div style="width: 100%;">
            <textarea id="input_json_string" name="input_json_string" rows="15" style="width: 90%;" autofocus="true" placeholder="Put your JSON regex file here">{
  "causes": {
    "ID_1": {
      "name": "NAME_1",
      "description": [
        "DESCRIPTION_1_LINE_1",
        "DESCRIPTION_1_LINE_2"
      ],
      "indications": [
        "PATTERN_1_a",
        "PATTERN_1_b"
      ],
      "test_lines_to_match": [
        "PATTERN_1_a",
        "PATTERN_1_b"
      ]
    },
    "ID_2": {
      "name": "NAME_2",
      "description": [
        "DESCRIPTION_2"
      ],
      "indications": [
        "PATTERN_2_a",
        "PATTERN_2_b"
      ],
      "test_lines_to_match": [
        "PATTERN_2_a",
        "PATTERN_2_b"
      ]
    }
  }
}</textarea>
            <div id="input_json_string_message" ></div>
          </div>
          <div style="width: 100%;">
            <textarea id="input_logs_string" name="input_logs_string" rows="15" style="width: 90%;" placeholder="Put your log file here">
Matching Line PATTERN_1_a
Not Matching Line PATTERN_1_b</textarea>
          </div>
          <div>
            <div style="margin: 17px 0;padding: 0px 0px 20px 0px;">
              <span id="beautify_json" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" >Beautify Json</span>
              <span id="validate_json" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" >Validate Json</span>
              <span id="match_logs" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" >Match logs</span>
            </div>
          </div>
          <div style="width: 100%;">
            <div id="input_logs_string_message" ></div>
          </div>
        </div>
      </div>
    <footer class="mdl-mini-footer" style="position: absolute;bottom: 0;width: 100%;">
      <div class="mdl-mini-footer__left-section">
        <div class="mdl-logo">build-failure-analyser-action</div>
        <ul class="mdl-mini-footer__link-list">
          <li>Project maintained by <a href="https://github.com/Superbasil3/">Superbasil3</a></li>
          <li><a href="#">Hosted on GitHub Pages</a></li>
        </ul>
      </div>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>


